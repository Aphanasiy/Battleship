# Battleship v0.3.0

Battleship - это <b>сетевой консольный морской бой</b>. Проект написан на python, поэтому может быть запущен на любой платформе, где есть доступ к консоли.

# Установка

Для того, чтобы установить это приложение, необходимо скачать репозиторий, и разархивировать его. Приложение готово к баталиям, но его нужно настроить. Все настройки вынесены в файл ```config.py```

* `HOST` - адрес хоста, на котором находится сервер. Его обычно сообщает админ (руководство админа ниже)
* `PORT` - номер порта. Его вам тоже сообщит админ
* `ENCODING` - кодировка взаимодействия. Лучше не трогать.
* `NAME` - Ваш ник. Его стоит обязательно поменять, чтобы Ваши соперники могли вас идентифицировать.
* `FIELD_FILE` - путь к файлу с картой (см. ниже)
* `FLEET` - стандартные настройки расположения кораблей. По умолчанию - классика.

# Карта

Карта по умолчанию представляет собой поле 10 на 10 символов. Карта должна генерироваться в соответствие с текущими настройками. Перед вступлением в бой производится проверка на соответствие карты базовым условиям - набор кораблей и корректность расположения. 

Карта располагается в файле. В файле должна присутствовать только карта и ничего другого. Путь к файлу прописывается в конфиге или передаётся в параметрах при запуске клиента. (см. далее).

В процессе игры на поле будут присутствовать следующие клетки:
* `cBASE` - базовая клетка
* `cMISS` - пустая подбитая клетка
* `cSHIP` - клетка со своим кораблем
* `cHURT` - клетка, с подбитым кораблем
* `cDEAD` - клетка, с убитым кораблем

Символы по умолчанию прописаны в файле `config.py`, их можно заменить на любой другой удобный набор.

# Запуск клиента

После настройки можно запустить клиент игры. Это соответственно файл `client.py`. Советуем сделать файл исполняемым, чтобы можно было использовать опции.

У client.py есть следующие опции:
* `-h, --help` - вывод вспомогательного сообщения
* `-p, --port =<PORT>` - Подключение с указанным портом (порт в настройках не меняется)
* `    --field =<FIELD>` - Инициализация игры с указанным в файле полем.

Наиболее актуальный список команд Вы сможете увидеть, использовав `help`.

Процесс игры прост и понятен. Перед Вами будет отображаться поле и логи последних действий Вашего соперника. Для того, чтобы сделать ход - введите координаты ячейки, в которую собираетесь ударить. Дальше дело только за вашим навыком.


# Руководство администратора

Если ты читаешь этот блок, то наверняка ты будешь поднимать сервер.
Сервер можно поднять в локальной сети. Тогда ты можешь оставить в настройках “localhost” и он запустится на локальной машине. После этого следует установить ip машины в сети и дать его товарищу(-ам), с которым(-и) собираешься играть. Также по умолчанию стоит порт 1237. Если хочешь - поменяй. Тоже в настройках.

Если сервер поднимается на удалённой машине, убедись, что к машине есть доступ из глобальной сети, например, что на роутере [проброшены порты]( https://yandex.ru/search/?text=%D0%BF%D1%80%D0%BE%D0%B1%D1%80%D0%BE%D1%81%D0%B8%D1%82%D1%8C%20%D0%BF%D0%BE%D1%80%D1%82%D1%8B%20%D0%BD%D0%B0%20%D1%80%D0%BE%D1%83%D1%82%D0%B5%D1%80%D0%B5), которые ты используешь.

Опции сервера:
* `-h, --help` - вывод вспомогательного сообщения
* `-p, --port =<PORT>` - Поднять сервер на указанном порте (порт в настройках не меняется)
* `    --tournament` - активировать соревновательный режим.

Соревновательный режим - это когда карты обоих игроков выводятся в консоль и открываются по мере пробития игроками кораблей соперника. Может быть полезно, если хочется понаблюдать за игрой, но не хочется лезть к участникам в экран.

Сервер ни в какой момент времени не видит карту участника, полностью доверяя клиентскому приложению. Если клиент изменит исходный код и подменит поле, то выйдет в игру с некорректным полем. Тут остаётся только доверять игрокам.

# Перспективы развития

1. Сделать API для ботов.
2. Прикрутить неконсольный интерфейс
3. Сервер, который не нужно будет перезапускать после каждой игры.

Если есть предложения по развитию и/или вопросы - прошу в [issue](https://github.com/Aphanasiy/Battleship/issues) или в [телеграм](t.me/Aphanasiy).

Удачи на полях сражений!

© 2019
